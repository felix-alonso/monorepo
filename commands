venv = venv
python = $(venv)/bin/python3
pip = $(venv)/bin/pip

deps: $(venv)/bin/activate

fmt:
	$(python) -m black .

lint:
	$(python) -m flake8 .

run: deps
	$(python) $(cmd) 

$(venv)/bin/activate: requirements.txt dev-requirements.txt
	$(python) -m venv $(venv)
	$(pip) install -r requirements.txt
	$(pip) install -r dev-requirements.txt
	$(python) -m pre-commit install

clean:
	rm -rf __pycache__
	rm -rf $(venv)

